<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Completo - An√°lisis de Librer√≠as</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 0;
            min-height: 100vh;
        }
        
        .header {
            background: white;
            padding: 20px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 5px;
        }
        
        .header p {
            color: #666;
            font-size: 0.9em;
        }
        
        .tabs {
            background: white;
            border-bottom: 2px solid #667eea;
            display: flex;
            flex-wrap: wrap;
            padding: 0 30px;
            position: sticky;
            top: 100px;
            z-index: 999;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .tab-button {
            background: none;
            border: none;
            padding: 15px 25px;
            cursor: pointer;
            font-size: 1em;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .tab-button:hover {
            color: #667eea;
            background: #f5f5f5;
        }
        
        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .stat-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .stat-card .number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-card .label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .chart-card h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
        }
        
        .table-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        .table-card h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        .link-button {
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.85em;
            display: inline-block;
        }
        
        .link-button:hover {
            background: #5568d3;
        }
        
        .info-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .info-box h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .info-box ul {
            margin-left: 20px;
            color: #856404;
        }
        
        .search-box {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .search-box input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            .tabs {
                top: 80px;
            }
            .tab-button {
                padding: 10px 15px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìö Dashboard - An√°lisis de Librer√≠as</h1>
        <p>C√≥digos CIIU: G476101 y G476104 | Fecha: 03/12/2025</p>
    </div>
    
    <div class="tabs">
        <button class="tab-button active" onclick="mostrarTab('resumen')">üìä Resumen</button>
        <button class="tab-button" onclick="mostrarTab('mapa')">üó∫Ô∏è Mapa Interactivo</button>
        <button class="tab-button" onclick="mostrarTab('graficos')">üìà Gr√°ficos</button>
        <button class="tab-button" onclick="mostrarTab('top-librerias')">üèÜ Top Librer√≠as</button>
        <button class="tab-button" onclick="mostrarTab('todas-librerias')">üìã Todas las Librer√≠as</button>
        <button class="tab-button" onclick="mostrarTab('metodologia')">üî¨ Metodolog√≠a</button>
        <button class="tab-button" onclick="mostrarTab('limitaciones')">‚ö†Ô∏è Limitaciones</button>
    </div>
    
    <!-- TAB: RESUMEN -->
    <div id="resumen" class="tab-content active">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="icon">üìä</div>
                <div class="number">62</div>
                <div class="label">Librer√≠as Analizadas</div>
            </div>
            <div class="stat-card">
                <div class="icon">‚úÖ</div>
                <div class="number">58</div>
                <div class="label">Encontradas en Google Maps</div>
            </div>
            <div class="stat-card">
                <div class="icon">‚≠ê</div>
                <div class="number">4.24</div>
                <div class="label">Calificaci√≥n Promedio</div>
            </div>
            <div class="stat-card">
                <div class="icon">üí¨</div>
                <div class="number">4,104</div>
                <div class="label">Total de Rese√±as</div>
            </div>
            <div class="stat-card">
                <div class="icon">üí∞</div>
                <div class="number">$2,756,700</div>
                <div class="label">Venta Mensual (USD)</div>
            </div>
            <div class="stat-card">
                <div class="icon">üìà</div>
                <div class="number">$33,080,400</div>
                <div class="label">Venta Anual (USD)</div>
            </div>
        </div>
        
        <div class="info-box">
            <h3>‚ÑπÔ∏è Informaci√≥n Importante</h3>
            <ul>
                <li>Las estimaciones de ventas est√°n basadas en indicadores de Google Maps (rese√±as, calificaciones, presencia online)</li>
                <li>Estas son <strong>estimaciones proyectadas</strong>, no datos hist√≥ricos reales de ventas</li>
                <li>Las rese√±as son el total acumulado hasta hoy, no sabemos las fechas espec√≠ficas</li>
                <li>Para datos oficiales, consulta el SRI</li>
            </ul>
        </div>
    </div>
    
    <!-- TAB: MAPA -->
    <div id="mapa" class="tab-content">
        <div class="table-card">
            <h2>üó∫Ô∏è Mapa Interactivo de Librer√≠as</h2>
            <div style="background: #e7f3ff; border-left: 4px solid #2196F3; padding: 20px; border-radius: 5px; margin-bottom: 20px;">
                <p style="margin-bottom: 15px; color: #0c5460;">
                    <strong>üìç Mapa completo con todas las librer√≠as</strong>
                </p>
                <p style="margin-bottom: 15px; color: #0c5460;">
                    El mapa muestra la ubicaci√≥n geogr√°fica de todas las librer√≠as encontradas. 
                    Puedes hacer zoom, hacer clic en los marcadores para ver detalles, y filtrar por provincia o c√≥digo CIIU.
                </p>
                <a href="mapa_google_maps_filtrado.html" target="_blank" 
                   style="display: inline-block; background: #2196F3; color: white; padding: 12px 25px; 
                          border-radius: 5px; text-decoration: none; font-weight: 600; margin-top: 10px;">
                    üó∫Ô∏è Abrir Mapa Interactivo
                </a>
            </div>
            
            <div style="background: white; border: 2px dashed #ddd; padding: 40px; text-align: center; border-radius: 10px;">
                <iframe src="mapa_google_maps_filtrado.html" 
                        style="width: 100%; height: 600px; border: none; border-radius: 10px;"
                        title="Mapa de Librer√≠as">
                </iframe>
                <p style="margin-top: 15px; color: #666; font-size: 0.9em;">
                    Si el mapa no se carga, <a href="mapa_google_maps_filtrado.html" target="_blank">haz clic aqu√≠ para abrirlo en una nueva pesta√±a</a>
                </p>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: 5px;">
                <h3 style="color: #333; margin-bottom: 10px;">üí° Caracter√≠sticas del Mapa:</h3>
                <ul style="margin-left: 20px; line-height: 1.8; color: #666;">
                    <li><strong>Marcadores por ubicaci√≥n:</strong> Cada marcador representa una ubicaci√≥n con m√∫ltiples librer√≠as</li>
                    <li><strong>Colores por cantidad:</strong> 
                        <span style="color: #FF0000;">üî¥ Rojo</span> (>1,000), 
                        <span style="color: #FF8800;">üü† Naranja</span> (500-1,000), 
                        <span style="color: #0000FF;">üîµ Azul</span> (100-500), 
                        <span style="color: #00FF00;">üü¢ Verde</span> (<100)
                    </li>
                    <li><strong>Filtros:</strong> Puedes filtrar por provincia y c√≥digo CIIU</li>
                    <li><strong>Tabla detallada:</strong> Haz clic en un marcador para ver todos los establecimientos de esa ubicaci√≥n</li>
                    <li><strong>Estad√≠sticas:</strong> El mapa muestra el total de ubicaciones y establecimientos</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- TAB: GR√ÅFICOS -->
    <div id="graficos" class="tab-content">
        <div class="charts-grid">
            <div class="chart-card">
                <h2>üìä Ventas por Provincia</h2>
                <div class="chart-container">
                    <canvas id="chartProvincias"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h2>üìà Distribuci√≥n de Rese√±as</h2>
                <div class="chart-container">
                    <canvas id="chartResenas"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h2>üèôÔ∏è Cantidad de Librer√≠as por Provincia</h2>
                <div class="chart-container">
                    <canvas id="chartCantidad"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h2>‚≠ê Top 10 Librer√≠as por Rese√±as</h2>
                <div class="chart-container">
                    <canvas id="chartTop10"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- TAB: TOP LIBRER√çAS -->
    <div id="top-librerias" class="tab-content">
        <div class="table-card">
            <h2>üèÜ Top 10 Librer√≠as por Rese√±as</h2>
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Rese√±as</th>
                        <th>Calificaci√≥n</th>
                        <th>Venta Mensual (USD)</th>
                        <th>Cant√≥n</th>
                        <th>Ver en Maps</th>
                    </tr>
                </thead>
                <tbody id="tablaTop10">
                </tbody>
            </table>
        </div>
        
        <div class="table-card">
            <h2>üí∞ Top 20 Librer√≠as por Ventas Estimadas</h2>
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Rese√±as</th>
                        <th>Calificaci√≥n</th>
                        <th>Venta Mensual (USD)</th>
                        <th>Cant√≥n</th>
                        <th>Ver en Maps</th>
                    </tr>
                </thead>
                <tbody id="tablaTop20Ventas">
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- TAB: TODAS LAS LIBRER√çAS -->
    <div id="todas-librerias" class="tab-content">
        <div class="search-box">
            <input type="text" id="buscarLibreria" placeholder="üîç Buscar librer√≠a por nombre, RUC o cant√≥n..." onkeyup="filtrarTabla()">
        </div>
        <div class="table-card">
            <h2>üìã Todas las Librer√≠as (62 total)</h2>
            <table>
                <thead>
                    <tr>
                        <th>RUC</th>
                        <th>Nombre</th>
                        <th>Cant√≥n</th>
                        <th>Rese√±as</th>
                        <th>Calificaci√≥n</th>
                        <th>Venta Mensual (USD)</th>
                        <th>Sitio Web</th>
                        <th>Ver en Maps</th>
                    </tr>
                </thead>
                <tbody id="tablaTodas">
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- TAB: METODOLOG√çA -->
    <div id="metodologia" class="tab-content">
        <div class="table-card">
            <h2>üî¨ Metodolog√≠a del An√°lisis</h2>
            <h3 style="margin-top: 20px; color: #667eea;">1. Fuente de Datos</h3>
            <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                <li><strong>Datos del SRI:</strong> RUCs, razones sociales, estados, ubicaciones</li>
                <li><strong>Google Maps API:</strong> Rese√±as, calificaciones, presencia online</li>
                <li><strong>Filtro:</strong> Solo librer√≠as con estado ACTIVO</li>
            </ul>
            
            <h3 style="margin-top: 30px; color: #667eea;">2. Proceso de B√∫squeda</h3>
            <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                <li>B√∫squeda autom√°tica en Google Places API usando nombre y ubicaci√≥n</li>
                <li>58 de 62 librer√≠as encontradas (93.5%)</li>
                <li>Obtenci√≥n de rese√±as, calificaciones, sitio web, tel√©fono</li>
            </ul>
            
            <h3 style="margin-top: 30px; color: #667eea;">3. C√°lculo de Estimaciones</h3>
            <p style="margin-top: 10px; line-height: 1.8;">
                Las estimaciones se basan en m√∫ltiples indicadores:
            </p>
            <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                <li><strong>N√∫mero de rese√±as:</strong> M√°s rese√±as = m√°s actividad = m√°s ventas estimadas</li>
                <li><strong>Calificaci√≥n:</strong> Mejor calificaci√≥n = m√°s confianza = m√°s ventas</li>
                <li><strong>Sitio web:</strong> Presencia online = m√°s alcance = m√°s ventas</li>
                <li><strong>Estado del contribuyente:</strong> ACTIVO = operando = m√°s ventas</li>
            </ul>
            
            <h3 style="margin-top: 30px; color: #667eea;">4. F√≥rmula de Estimaci√≥n</h3>
            <div style="background: #f5f5f5; padding: 15px; border-radius: 5px; margin-top: 10px;">
                <p><strong>Base seg√∫n rese√±as:</strong></p>
                <ul style="margin-left: 20px; margin-top: 5px;">
                    <li>0-10 rese√±as ‚Üí $5,000-15,000 USD/mes</li>
                    <li>11-50 rese√±as ‚Üí $15,000-40,000 USD/mes</li>
                    <li>51-100 rese√±as ‚Üí $40,000-80,000 USD/mes</li>
                    <li>100+ rese√±as ‚Üí $80,000-150,000 USD/mes</li>
                </ul>
                <p style="margin-top: 10px;"><strong>Ajustes:</strong></p>
                <ul style="margin-left: 20px; margin-top: 5px;">
                    <li>Calificaci√≥n 4.5+ ‚Üí +30%</li>
                    <li>Calificaci√≥n 4.0-4.5 ‚Üí +10%</li>
                    <li>Con sitio web ‚Üí +50%</li>
                    <li>Estado ACTIVO ‚Üí +20%</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- TAB: LIMITACIONES -->
    <div id="limitaciones" class="tab-content">
        <div class="table-card">
            <h2>‚ö†Ô∏è Limitaciones y Consideraciones</h2>
            
            <div class="info-box" style="margin-top: 20px;">
                <h3>üìÖ Sobre las Fechas de las Rese√±as</h3>
                <ul>
                    <li>Las rese√±as son el <strong>total acumulado</strong> hasta hoy</li>
                    <li><strong>NO tenemos fechas espec√≠ficas</strong> de cada rese√±a</li>
                    <li>No sabemos si son de este mes, este a√±o, o de varios a√±os</li>
                    <li>Son una "foto" del estado actual, no un historial</li>
                </ul>
            </div>
            
            <div class="info-box" style="margin-top: 20px;">
                <h3>üí∞ Sobre las Estimaciones de Ventas</h3>
                <ul>
                    <li>Son <strong>proyecciones mensuales/anuales</strong> basadas en el estado actual</li>
                    <li><strong>NO son datos hist√≥ricos reales</strong> de ventas</li>
                    <li>No corresponden a un per√≠odo espec√≠fico (diciembre 2024, etc.)</li>
                    <li>Son estimaciones de lo que <strong>podr√≠a</strong> vender mensualmente</li>
                </ul>
            </div>
            
            <div class="info-box" style="margin-top: 20px;">
                <h3>üìä Otras Limitaciones</h3>
                <ul>
                    <li>4 librer√≠as no fueron encontradas en Google Maps</li>
                    <li>Las rese√±as pueden no reflejar ventas directamente</li>
                    <li>Algunas librer√≠as pueden tener muchas rese√±as pero pocas ventas (o viceversa)</li>
                    <li>Las estimaciones pueden estar sobreestimadas o subestimadas</li>
                    <li>Para datos reales, se requiere consultar el SRI o las librer√≠as directamente</li>
                </ul>
            </div>
            
            <div style="background: #d1ecf1; border-left: 4px solid #0c5460; padding: 20px; border-radius: 5px; margin-top: 20px;">
                <h3 style="color: #0c5460; margin-bottom: 10px;">üí° Recomendaciones</h3>
                <ul style="margin-left: 20px; color: #0c5460; line-height: 1.8;">
                    <li>Consultar el SRI para obtener datos oficiales de facturaci√≥n</li>
                    <li>Contactar directamente a las librer√≠as para validar estimaciones</li>
                    <li>Usar estas estimaciones como referencia comparativa, no como valores exactos</li>
                    <li>Actualizar peri√≥dicamente con nuevos datos</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        // Datos
        const provinciasData = [{"provincia": "EL ORO", "cantidad": 54, "venta_mensual": 2167800.0, "resenas": 1724}, {"provincia": "GALAPAGOS", "cantidad": 4, "venta_mensual": 356400.0, "resenas": 1926}, {"provincia": "GUAYAS", "cantidad": 2, "venta_mensual": 158400.0, "resenas": 411}, {"provincia": "PICHINCHA", "cantidad": 1, "venta_mensual": 58500.0, "resenas": 41}, {"provincia": "AZUAY", "cantidad": 1, "venta_mensual": 15600.0, "resenas": 2}];
        const top10Data = [{"nombre": "MUSEO KAYNA KUNAN WI√ëAYPASH CAFETERIA NINA CHUMBI", "resenas": 1821, "calificacion": 4.8, "venta_mensual": 187200.0, "canton": "SANTA CRUZ", "url": "https://www.google.com/maps/place/?q=place_id:ChIJYQT7unia1ZERm6hXR13euwk"}, {"nombre": "IKU", "resenas": 411, "calificacion": 4.4, "venta_mensual": 158400.0, "canton": "GUAYAQUIL", "url": "https://www.google.com/maps/place/?q=place_id:ChIJsQeDW3ZuLZARlifgPFUopJM"}, {"nombre": "VIDA LIBRERIA CRISTIANA", "resenas": 198, "calificacion": 4.9, "venta_mensual": 187200.0, "canton": "HUAQUILLAS", "url": "https://www.google.com/maps/place/?q=place_id:ChIJt9848ESb1ZERwXrQyWsTtsg"}, {"nombre": "LIBRERIA UNA VIDA CON PROPOSITO", "resenas": 198, "calificacion": 4.9, "venta_mensual": 187200.0, "canton": "HUAQUILLAS", "url": "https://www.google.com/maps/place/?q=place_id:ChIJt9848ESb1ZERwXrQyWsTtsg"}, {"nombre": "GENIUSKIDS", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "LIBRERIA GENESIS", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "LIBRERIA GENESIS", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "LIBRERIA GENESIS ", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "EDICIONES CULTURALES HERMANDAD", "resenas": 119, "calificacion": 4.7, "venta_mensual": 187200.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ7YJzkTya1ZERzESbxGo0glA"}, {"nombre": "GUAMAN CARRION DAYANA LIANABEL", "resenas": 97, "calificacion": 4.4, "venta_mensual": 66000.0, "canton": "SANTA ROSA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJtwXNW2WoXZQRedHPMTTRSyo"}];
        const top20VentasData = [{"nombre": "MUSEO KAYNA KUNAN WI√ëAYPASH CAFETERIA NINA CHUMBI", "resenas": 1821, "calificacion": 4.8, "venta_mensual": 187200.0, "canton": "SANTA CRUZ", "url": "https://www.google.com/maps/place/?q=place_id:ChIJYQT7unia1ZERm6hXR13euwk"}, {"nombre": "EDICIONES CULTURALES HERMANDAD", "resenas": 119, "calificacion": 4.7, "venta_mensual": 187200.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ7YJzkTya1ZERzESbxGo0glA"}, {"nombre": "VIDA LIBRERIA CRISTIANA", "resenas": 198, "calificacion": 4.9, "venta_mensual": 187200.0, "canton": "HUAQUILLAS", "url": "https://www.google.com/maps/place/?q=place_id:ChIJt9848ESb1ZERwXrQyWsTtsg"}, {"nombre": "LIBRERIA UNA VIDA CON PROPOSITO", "resenas": 198, "calificacion": 4.9, "venta_mensual": 187200.0, "canton": "HUAQUILLAS", "url": "https://www.google.com/maps/place/?q=place_id:ChIJt9848ESb1ZERwXrQyWsTtsg"}, {"nombre": "IKU", "resenas": 411, "calificacion": 4.4, "venta_mensual": 158400.0, "canton": "GUAYAQUIL", "url": "https://www.google.com/maps/place/?q=place_id:ChIJsQeDW3ZuLZARlifgPFUopJM"}, {"nombre": "BEJARANO MORENO BYRON VINICIO", "resenas": 82, "calificacion": 5.0, "venta_mensual": 117000.0, "canton": "SANTA CRUZ", "url": "https://www.google.com/maps/place/?q=place_id:ChIJL6g5SLtdqpoRXhiHJV1Drzg"}, {"nombre": "GENIUSKIDS", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "LIBRERIA GENESIS", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "LIBRERIA GENESIS", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "LIBRERIA GENESIS ", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"nombre": "ME GUSTA LEER", "resenas": 86, "calificacion": 4.6, "venta_mensual": 78000.0, "canton": "SANTA ROSA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJHXKGL8d8Ng0Ri7Il63EKCnQ"}, {"nombre": "JARAMILLO SANCHEZ PABLO COLON", "resenas": 56, "calificacion": 4.6, "venta_mensual": 78000.0, "canton": "ARENILLAS", "url": "https://www.google.com/maps/place/?q=place_id:ChIJEeqOT-vVHIwRH2qtF0tXwpY"}, {"nombre": "GUAMAN CARRION DAYANA LIANABEL", "resenas": 97, "calificacion": 4.4, "venta_mensual": 66000.0, "canton": "SANTA ROSA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJtwXNW2WoXZQRedHPMTTRSyo"}, {"nombre": "CAJAS MORQUECHO DAVID FERNANDO", "resenas": 65, "calificacion": 4.0, "venta_mensual": 66000.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ03hdv0GF1ZERDLB9l9vN9jk"}, {"nombre": "FRANQUICIAS ARTUNDUAGA", "resenas": 41, "calificacion": 4.8, "venta_mensual": 58500.0, "canton": "QUITO", "url": "https://www.google.com/maps/place/?q=place_id:ChIJQxJ6Pmea1ZERuojBQAs7xkI"}, {"nombre": "ROMERO TORRES ANGEL BOLIVAR", "resenas": 19, "calificacion": 4.9, "venta_mensual": 58500.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJbYWtWZMVM5ARLu3-ws5MpYs"}, {"nombre": "AREVALO GIA OSCAR MARINO", "resenas": 16, "calificacion": 4.8, "venta_mensual": 58500.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ_aCu1QCb1ZERMRnZAZcr-sY"}, {"nombre": "IKU", "resenas": 19, "calificacion": 4.9, "venta_mensual": 58500.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJbYWtWZMVM5ARLu3-ws5MpYs"}, {"nombre": "WORLDBOOK", "resenas": 13, "calificacion": 4.5, "venta_mensual": 58500.0, "canton": "MACHALA", "url": "https://www.google.com/maps/place/?q=place_id:ChIJa6DvYHkPM5ARmEvG52HYVeQ"}, {"nombre": "VENTA TEXTOS ESCOLARES", "resenas": 19, "calificacion": 4.9, "venta_mensual": 58500.0, "canton": "PASAJE", "url": "https://www.google.com/maps/place/?q=place_id:ChIJbYWtWZMVM5ARLu3-ws5MpYs"}];
        const todasLibreriasData = [{"ruc": "1704491362001", "nombre": "MUSEO KAYNA KUNAN WI√ëAYPASH CAFETERIA NINA CHUMBI", "canton": "SANTA CRUZ", "resenas": 1821, "calificacion": 4.8, "venta_mensual": 187200.0, "sitio_web": "http://guayasamin.org.ec/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJYQT7unia1ZERm6hXR13euwk"}, {"ruc": "702787037001", "nombre": "VIDA LIBRERIA CRISTIANA", "canton": "HUAQUILLAS", "resenas": 198, "calificacion": 4.9, "venta_mensual": 187200.0, "sitio_web": "https://vidalibros.com.ec/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJt9848ESb1ZERwXrQyWsTtsg"}, {"ruc": "704096809001", "nombre": "LIBRERIA UNA VIDA CON PROPOSITO", "canton": "HUAQUILLAS", "resenas": 198, "calificacion": 4.9, "venta_mensual": 187200.0, "sitio_web": "https://vidalibros.com.ec/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJt9848ESb1ZERwXrQyWsTtsg"}, {"ruc": "703500124001", "nombre": "EDICIONES CULTURALES HERMANDAD", "canton": "PASAJE", "resenas": 119, "calificacion": 4.7, "venta_mensual": 187200.0, "sitio_web": "http://www.casaeguez.com/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ7YJzkTya1ZERzESbxGo0glA"}, {"ruc": "1717293870001", "nombre": "IKU", "canton": "GUAYAQUIL", "resenas": 411, "calificacion": 4.4, "venta_mensual": 158400.0, "sitio_web": "https://www.coquito.ec/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJsQeDW3ZuLZARlifgPFUopJM"}, {"ruc": "1704491362001", "nombre": "BEJARANO MORENO BYRON VINICIO", "canton": "SANTA CRUZ", "resenas": 82, "calificacion": 5.0, "venta_mensual": 117000.0, "sitio_web": "http://wa.me/593998183101", "url": "https://www.google.com/maps/place/?q=place_id:ChIJL6g5SLtdqpoRXhiHJV1Drzg"}, {"ruc": "706056280001", "nombre": "GENIUSKIDS", "canton": "MACHALA", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"ruc": "702354184001", "nombre": "LIBRERIA GENESIS", "canton": "MACHALA", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"ruc": "702354184001", "nombre": "LIBRERIA GENESIS", "canton": "MACHALA", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"ruc": "702354184001", "nombre": "LIBRERIA GENESIS ", "canton": "MACHALA", "resenas": 149, "calificacion": 4.1, "venta_mensual": 105600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJj7s84FkOM5ARqjcTJlxvbBA"}, {"ruc": "750629404001", "nombre": "ME GUSTA LEER", "canton": "SANTA ROSA", "resenas": 86, "calificacion": 4.6, "venta_mensual": 78000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJHXKGL8d8Ng0Ri7Il63EKCnQ"}, {"ruc": "702787037001", "nombre": "JARAMILLO SANCHEZ PABLO COLON", "canton": "ARENILLAS", "resenas": 56, "calificacion": 4.6, "venta_mensual": 78000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJEeqOT-vVHIwRH2qtF0tXwpY"}, {"ruc": "750570012001", "nombre": "GUAMAN CARRION DAYANA LIANABEL", "canton": "SANTA ROSA", "resenas": 97, "calificacion": 4.4, "venta_mensual": 66000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJtwXNW2WoXZQRedHPMTTRSyo"}, {"ruc": "1150200077001", "nombre": "CAJAS MORQUECHO DAVID FERNANDO", "canton": "PASAJE", "resenas": 65, "calificacion": 4.0, "venta_mensual": 66000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ03hdv0GF1ZERDLB9l9vN9jk"}, {"ruc": "791773393001", "nombre": "IKU", "canton": "PASAJE", "resenas": 19, "calificacion": 4.9, "venta_mensual": 58500.0, "sitio_web": "https://m.facebook.com/@Libreria-Mayrita-100090691541870/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJbYWtWZMVM5ARLu3-ws5MpYs"}, {"ruc": "501623490001", "nombre": "WORLDBOOK", "canton": "MACHALA", "resenas": 13, "calificacion": 4.5, "venta_mensual": 58500.0, "sitio_web": "https://www.facebook.com/Bookshopec/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJa6DvYHkPM5ARmEvG52HYVeQ"}, {"ruc": "705047827001", "nombre": "VENTA TEXTOS ESCOLARES", "canton": "PASAJE", "resenas": 19, "calificacion": 4.9, "venta_mensual": 58500.0, "sitio_web": "https://m.facebook.com/@Libreria-Mayrita-100090691541870/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJbYWtWZMVM5ARLu3-ws5MpYs"}, {"ruc": "703809079001", "nombre": "AREVALO GIA OSCAR MARINO", "canton": "PASAJE", "resenas": 16, "calificacion": 4.8, "venta_mensual": 58500.0, "sitio_web": "https://instagram.com/napoleonlibreria?utm_medium=copy_link", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ_aCu1QCb1ZERMRnZAZcr-sY"}, {"ruc": "1717293870001", "nombre": "FRANQUICIAS ARTUNDUAGA", "canton": "QUITO", "resenas": 41, "calificacion": 4.8, "venta_mensual": 58500.0, "sitio_web": "http://www.ecuafranquicias.com/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJQxJ6Pmea1ZERuojBQAs7xkI"}, {"ruc": "1103856231001", "nombre": "ROMERO TORRES ANGEL BOLIVAR", "canton": "PASAJE", "resenas": 19, "calificacion": 4.9, "venta_mensual": 58500.0, "sitio_web": "https://m.facebook.com/@Libreria-Mayrita-100090691541870/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJbYWtWZMVM5ARLu3-ws5MpYs"}, {"ruc": "916632110001", "nombre": "IMPOMADELSA IMPORTADORA DEL SALTO", "canton": "MACHALA", "resenas": 12, "calificacion": 4.3, "venta_mensual": 49500.0, "sitio_web": "http://www.distribuidoradelsalto.com/", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ0WpjVFcOM5ARLbA6U4LHJag"}, {"ruc": "1717293870001", "nombre": "FRANQUICIAS ARTUNDUAGA", "canton": "HUAQUILLAS", "resenas": 18, "calificacion": 3.9, "venta_mensual": 45000.0, "sitio_web": "http://www.facebook.com/AdmiContHuaquillas", "url": "https://www.google.com/maps/place/?q=place_id:ChIJQUPSEEyaM5ARgq7klHLlD38"}, {"ruc": "2091767564001", "nombre": "LIBRERIA LEGENDA BOOKERY, ARTS & CAFE", "canton": "SANTA CRUZ", "resenas": 17, "calificacion": 4.8, "venta_mensual": 39000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJIY1CQ0JdqpoRRE-VnPlk3vw"}, {"ruc": "106019201001", "nombre": "BAZAR CORAZON DE MARIA", "canton": "MACHALA", "resenas": 11, "calificacion": 4.8, "venta_mensual": 39000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJeRO49joPM5ARyo4SZsN0hlE"}, {"ruc": "706302874001", "nombre": "LIBMED CUE", "canton": "MACHALA", "resenas": 17, "calificacion": 3.5, "venta_mensual": 30000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJmePYal0OM5AR4rPOkgx6MDA"}, {"ruc": "704129584001", "nombre": "BENAVIDES RAMIREZ SILVIA PATRICIA", "canton": "PI√ëAS", "resenas": 4, "calificacion": 5.0, "venta_mensual": 23400.0, "sitio_web": "https://instagram.com/libreriamundocopia?igshid=1lb36ll5fcqz", "url": "https://www.google.com/maps/place/?q=place_id:ChIJBc8e6EFfM5ARpCK6ymfplBM"}, {"ruc": "702416728001", "nombre": "ACCEC", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "703883124001", "nombre": "GARCES BERMEO JOHANNA CECIBEL", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "1802004463001", "nombre": "DISTRIBUIDORA DE LIBROS CIENCIA Y CULTURA", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "703883124001", "nombre": "EVOLUTION", "canton": "PASAJE", "resenas": 1, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJd5x3NXoVM5ARrVV7Co10JSA"}, {"ruc": "703282665001", "nombre": "FRIGO POLLO", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "919597062001", "nombre": "LIBRERIA Y BAZAR OVEJITAS", "canton": "HUAQUILLAS", "resenas": 5, "calificacion": 4.6, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ3xWSX02aM5ARBM_9nFxSjqQ"}, {"ruc": "702354184001", "nombre": "RAMON GUANUCHE NEY ROSARIO", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "704235688001", "nombre": "EVOLUTION ", "canton": "PASAJE", "resenas": 1, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJd5x3NXoVM5ARrVV7Co10JSA"}, {"ruc": "750055899001", "nombre": "MANGATRA STORE", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "703282665001", "nombre": "LIBRERIA CRISTIANA PALABRAS DE VIDA", "canton": "MACHALA", "resenas": 5, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJxcl64FYOM5AR27jx3OQojw0"}, {"ruc": "1717293870001", "nombre": "IKU", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "701452476001", "nombre": "MOROCHO AQUINO NESTOR FELIPE", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "1150137931001", "nombre": "GIA GIA GUSTAVO LENIN", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "1709303281001", "nombre": "DISTRIBUIDORA DE LIBROS CULTECSA", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "705390599001", "nombre": "CASA DEL LIBRO", "canton": "PASAJE", "resenas": 1, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJkWdBrZGp05EREtXNFur2guY"}, {"ruc": "701355687001", "nombre": "LIBRERIA DEL SALTO", "canton": "PASAJE", "resenas": 3, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl6tAyMUVM5AR8HoF0_QPEmM"}, {"ruc": "703079327001", "nombre": "LIBRERIA CRISTIANA DAVIS", "canton": "MACHALA", "resenas": 5, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJxcl64FYOM5AR27jx3OQojw0"}, {"ruc": "701634859001", "nombre": "LIBRERIA JURIDICA SAMY", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "702354184001", "nombre": "RAMON GUANUCHE NEY ROSARIO", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "1717293870001", "nombre": "FRANQUICIAS ARTUNDUAGA", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "791773393001", "nombre": "IKU PASAJE", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "791773393001", "nombre": "IKU PASAJE", "canton": "MACHALA", "resenas": 8, "calificacion": 4.5, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJl8elhFcOM5ARjRFSLJpDrww"}, {"ruc": "702011875001", "nombre": "CIENCIA Y VIDA", "canton": "MACHALA", "resenas": 5, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJxcl64FYOM5AR27jx3OQojw0"}, {"ruc": "706302874001", "nombre": "LIBMED CUE", "canton": "CUENCA", "resenas": 2, "calificacion": 5.0, "venta_mensual": 15600.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ5wQ8QXsZzZER1Rw-LMIa0uo"}, {"ruc": "702123357001", "nombre": "NUEVA LIBRERIA MONTALVO", "canton": "MACHALA", "resenas": 8, "calificacion": 4.3, "venta_mensual": 13200.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ2eJEZCkPM5AR25Iw8sRvVzo"}, {"ruc": "707038212001", "nombre": "PROMOCIONES CULTURALES MAGBEL", "canton": "PASAJE", "resenas": 4, "calificacion": 4.0, "venta_mensual": 13200.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJjVmaewBtLZARfivl33hRP38"}, {"ruc": "1752387652001", "nombre": "THE BOOK SHOP, GALAPAGOS", "canton": "SANTA CRUZ", "resenas": 6, "calificacion": 4.2, "venta_mensual": 13200.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJL3QX8zNdqpoRS6Mzuy7irRY"}, {"ruc": "704235688001", "nombre": "EVOLUTION", "canton": "MACHALA", "resenas": 3, "calificacion": 3.7, "venta_mensual": 12000.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJ42BYnLIPM5AR3_r_omfQ2KQ"}, {"ruc": "704203116001", "nombre": "LIBRERIA Y CYBER EMERSON", "canton": "PASAJE", "resenas": 0, "calificacion": 0.0, "venta_mensual": 4800.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJrRjrh_QUM5ARAj6yYodRo2Y"}, {"ruc": "704096809001", "nombre": "UNA VIDA CON PROPOSITO", "canton": "HUAQUILLAS", "resenas": 0, "calificacion": 0.0, "venta_mensual": 4800.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJq2zPTXESM5ARs8w_twe0r_w"}, {"ruc": "791773393001", "nombre": "IKU PASAJE", "canton": "SANTA ROSA", "resenas": 0, "calificacion": 0.0, "venta_mensual": 4800.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJiQPblwtxM5AR9UlBxMGyWag"}, {"ruc": "1712006798001", "nombre": "LIBRER√çA VIDA", "canton": "PASAJE", "resenas": 0, "calificacion": 0.0, "venta_mensual": 4800.0, "sitio_web": "", "url": "https://www.google.com/maps/place/?q=place_id:ChIJF0y8sYoUM5ARLDFoenQ5iAI"}, {"ruc": "1717293870001", "nombre": "O3 OZONO", "canton": "GUAYAQUIL", "resenas": 0, "calificacion": 0.0, "venta_mensual": 0.0, "sitio_web": "", "url": ""}, {"ruc": "701484792001", "nombre": "LEON ORTEGA WILMER GUSTAVO", "canton": "MACHALA", "resenas": 0, "calificacion": 0.0, "venta_mensual": 0.0, "sitio_web": "", "url": ""}, {"ruc": "152499802001", "nombre": "BLANCO CANTILLO DALMIRO ALFONSO", "canton": "PASAJE", "resenas": 0, "calificacion": 0.0, "venta_mensual": 0.0, "sitio_web": "", "url": ""}, {"ruc": "1753902590001", "nombre": "PEREZ ALONSO JUAN FRANCISCO", "canton": "EL GUABO", "resenas": 0, "calificacion": 0.0, "venta_mensual": 0.0, "sitio_web": "", "url": ""}];
        const distribucionResenas = {"0-10": 33, "11-50": 11, "51-100": 5, "100+": 9};
        
        // Navegaci√≥n de pesta√±as
        function mostrarTab(tabId) {
            // Ocultar todas las pesta√±as
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remover active de todos los botones
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mostrar la pesta√±a seleccionada
            document.getElementById(tabId).classList.add('active');
            
            // Activar el bot√≥n correspondiente
            event.target.classList.add('active');
            
            // Inicializar gr√°ficos si es necesario
            if (tabId === 'graficos') {
                inicializarGraficos();
            }
        }
        
        // Inicializar gr√°ficos
        let charts = {};
        function inicializarGraficos() {
            if (charts.provincias) return; // Ya est√°n inicializados
            
            const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#00f2fe', '#43e97b', '#fa709a'];
            
            // Gr√°fico de Ventas por Provincia
            const ctxProvincias = document.getElementById('chartProvincias').getContext('2d');
            charts.provincias = new Chart(ctxProvincias, {
                type: 'bar',
                data: {
                    labels: provinciasData.map(p => p.provincia),
                    datasets: [{
                        label: 'Venta Mensual (USD)',
                        data: provinciasData.map(p => p.venta_mensual),
                        backgroundColor: colors[0],
                        borderColor: colors[0],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return '$' + context.parsed.y.toLocaleString('es-ES', {maximumFractionDigits: 0}) + ' USD';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString('es-ES', {maximumFractionDigits: 0});
                                }
                            }
                        }
                    }
                }
            });
            
            // Gr√°fico de Distribuci√≥n de Rese√±as
            const ctxResenas = document.getElementById('chartResenas').getContext('2d');
            charts.resenas = new Chart(ctxResenas, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(distribucionResenas),
                    datasets: [{
                        data: Object.values(distribucionResenas),
                        backgroundColor: colors.slice(0, 4),
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
            
            // Gr√°fico de Cantidad por Provincia
            const ctxCantidad = document.getElementById('chartCantidad').getContext('2d');
            charts.cantidad = new Chart(ctxCantidad, {
                type: 'pie',
                data: {
                    labels: provinciasData.map(p => p.provincia),
                    datasets: [{
                        data: provinciasData.map(p => p.cantidad),
                        backgroundColor: colors,
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
            
            // Gr√°fico Top 10
            const ctxTop10 = document.getElementById('chartTop10').getContext('2d');
            charts.top10 = new Chart(ctxTop10, {
                type: 'bar',
                data: {
                    labels: top10Data.map(l => l.nombre.substring(0, 20) + '...'),
                    datasets: [{
                        label: 'Rese√±as',
                        data: top10Data.map(l => l.resenas),
                        backgroundColor: colors[1],
                        borderColor: colors[1],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        x: { beginAtZero: true }
                    }
                }
            });
        }
        
        // Llenar tablas
        function llenarTablas() {
            // Tabla Top 10
            const tablaTop10 = document.getElementById('tablaTop10');
            top10Data.forEach((lib, index) => {
                const row = tablaTop10.insertRow();
                row.insertCell(0).textContent = index + 1;
                row.insertCell(1).textContent = lib.nombre;
                row.insertCell(2).textContent = lib.resenas.toLocaleString();
                row.insertCell(3).innerHTML = '‚≠ê ' + lib.calificacion;
                row.insertCell(4).textContent = '$' + lib.venta_mensual.toLocaleString('es-ES', {maximumFractionDigits: 0});
                row.insertCell(5).textContent = lib.canton;
                const cellLink = row.insertCell(6);
                if (lib.url) {
                    const link = document.createElement('a');
                    link.href = lib.url;
                    link.target = '_blank';
                    link.className = 'link-button';
                    link.textContent = 'Ver';
                    cellLink.appendChild(link);
                }
            });
            
            // Tabla Top 20 Ventas
            const tablaTop20Ventas = document.getElementById('tablaTop20Ventas');
            top20VentasData.forEach((lib, index) => {
                const row = tablaTop20Ventas.insertRow();
                row.insertCell(0).textContent = index + 1;
                row.insertCell(1).textContent = lib.nombre;
                row.insertCell(2).textContent = lib.resenas.toLocaleString();
                row.insertCell(3).innerHTML = '‚≠ê ' + lib.calificacion;
                row.insertCell(4).textContent = '$' + lib.venta_mensual.toLocaleString('es-ES', {maximumFractionDigits: 0});
                row.insertCell(5).textContent = lib.canton;
                const cellLink = row.insertCell(6);
                if (lib.url) {
                    const link = document.createElement('a');
                    link.href = lib.url;
                    link.target = '_blank';
                    link.className = 'link-button';
                    link.textContent = 'Ver';
                    cellLink.appendChild(link);
                }
            });
            
            // Tabla Todas las Librer√≠as
            const tablaTodas = document.getElementById('tablaTodas');
            todasLibreriasData.forEach((lib) => {
                const row = tablaTodas.insertRow();
                row.insertCell(0).textContent = lib.ruc;
                row.insertCell(1).textContent = lib.nombre;
                row.insertCell(2).textContent = lib.canton;
                row.insertCell(3).textContent = lib.resenas.toLocaleString();
                row.insertCell(4).innerHTML = lib.calificacion > 0 ? '‚≠ê ' + lib.calificacion : '-';
                row.insertCell(5).textContent = '$' + lib.venta_mensual.toLocaleString('es-ES', {maximumFractionDigits: 0});
                const cellWeb = row.insertCell(6);
                if (lib.sitio_web) {
                    const link = document.createElement('a');
                    link.href = lib.sitio_web;
                    link.target = '_blank';
                    link.textContent = 'Web';
                    link.className = 'link-button';
                    cellWeb.appendChild(link);
                } else {
                    cellWeb.textContent = '-';
                }
                const cellLink = row.insertCell(7);
                if (lib.url) {
                    const link = document.createElement('a');
                    link.href = lib.url;
                    link.target = '_blank';
                    link.className = 'link-button';
                    link.textContent = 'Maps';
                    cellLink.appendChild(link);
                } else {
                    cellLink.textContent = '-';
                }
            });
        }
        
        // Filtrar tabla
        function filtrarTabla() {
            const input = document.getElementById('buscarLibreria');
            const filter = input.value.toLowerCase();
            const table = document.getElementById('tablaTodas');
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const row = rows[i];
                const text = row.textContent.toLowerCase();
                if (text.indexOf(filter) > -1) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            }
        }
        
        // Inicializar al cargar
        window.onload = function() {
            llenarTablas();
            inicializarGraficos();
        };
    </script>
</body>
</html>
